{{> header }}

<body style="width: 98.9vw; height:100vh">
    
    <section class="menuBar">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="#">Elementos</a>
            {{> menu}}
        </nav>
    </section>

    <section style="justify-content:center; width:100%; margin-bottom: 100px;">
        <section style="justify-content:center; width:100%; margin:auto;">
            <div class="form-group row">
                <label  class="col-sm-5 col-form-label">Material:</label>
                <label  class="col-sm-1 col-form-label">Cantidad:</label>
                <label  class="col-sm-2 col-form-label">Medida:</label>
                <label  class="col-sm-1 col-form-label">Pies:</label>
                <label  class="col-sm-1 col-form-label">Importe:</label>
            </div>
            <form action="elemento/crearElemento" method="POST">
                <div class="form-group row">
                    <input hidden name="id_proyecto" value="{{id_proyecto}}">
                    <input hidden name="id_producto" value="{{id_producto}}">
                    <div class="col-sm-5">
                        <select class="custom-select custom-select-lg mb-3" name="id_material" required>
                            <option value="">Selecciona</option>
                            {{#each material}}
                                <option value="{{id_material}}-{{precio}}">{{categoria}}, {{clase}}, {{medida}}, {{tamanio}}, ${{precio}}, {{proveedor}}</option>
                            {{/each}}
                        </select>
                    </div>
                    <div class="col-sm-1">
                        <input class="form-control" name="cantidad" value="" placeholder="Cantidad" required>
                    </div>
                    <div class="col-sm-2">
                        <select class="custom-select custom-select-lg mb-3" name="id_medida" required>
                            <option value="">Selecciona</option>
                            {{#each medida}}
                                <option value="{{id_medida}}-{{largo}},{{ancho}},{{grosor}}">{{largo}} X {{ancho}} X {{grosor}}</option>
                            {{/each}}
                        </select>
                    </div>
                    <label  class="col-sm-2 col-form-label"></label>
                    <button type="submit" class="col-sm-1 btn btn-success">Nuevo</button>
                </div>
            </form>
            <hr>
            {{#each elemento}}
                <form action="elemento/eliminarElemento" method="POST">
                    <div class="form-group row">
                        <input hidden class="form-control" name="id_elemento" value="{{id_elemento}}" required>
                        <input hidden class="form-control" name="id_proyecto" value="{{id_proyecto}}" required>
                        <input hidden class="form-control" name="id_producto" value="{{id_producto}}" required>
                        <div class="col-sm-5">
                            <input class="form-control" name="material" disabled="true" value="{{categoria}}, {{clase}}, {{medida}}, {{tamanio}}, {{proveedor}}.  ${{precio}}" required>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" name="cantidad" disabled="true" value="{{cantidad}}" required>
                        </div>
                        <div class="col-sm-2">
                            <input class="form-control" name="medida" disabled="true" value="{{largo}} X {{ancho}} X {{grosor}}" required>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" name="pies" disabled="true" value="{{pies}} ft." required>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" name="importe" disabled="true" value="${{importe}}" required>
                        </div>
                        <button type="submit" class="col-sm-1 btn btn-danger">Eliminar</button>
                    </div>
                </form>
            {{/each}}
            <hr>
            <form action="elemento/crearExtra" method="POST">
                <div class="form-group row">
                    <label  class="col-sm-1 col-form-label">Extras:</label>
                    <input hidden class="form-control" name="id_producto" value="{{id_producto}}" required>
                    <input hidden class="form-control" name="id_proyecto" value="{{id_proyecto}}" required>
                    <div class="col-sm-5">
                        <input class="form-control" name="extra" placeholder="Diseños, Subcontratación, Emplayes, etc." value="" required>
                    </div>
                    <label  class="col-sm-2 col-form-label"></label>
                    <div class="col-sm-2">
                        <input class="form-control" name="importe" placeholder="Importe" value="" required>
                    </div>
                    <button type="submit" class="col-sm-1 btn btn-success">Añadir</button>
                </div>
            </form>
            <hr>
            {{#each extra}}
                <form action="elemento/actualizarExtra" method="POST">
                    <div class="form-group row">
                        <label  class="col-sm-1 col-form-label">Extras:</label>
                        <input hidden class="form-control" name="id_extra" value="{{id_extra}}" required>
                        <input hidden class="form-control" name="id_producto" value="{{id_producto}}" required>
                        <input hidden class="form-control" name="id_proyecto" value="{{id_proyecto}}" required>
                        <div class="col-sm-5">
                            <input class="form-control" name="extra" placeholder="Diseños, Subcontratación, Emplayes, etc." value="{{extra}}" required>
                        </div>
                        <label  class="col-sm-2 col-form-label"></label>
                        <div class="col-sm-2">
                            <input class="form-control" name="importe" placeholder="Importe" value="{{importe}}" required>
                        </div>
                        <button type="submit" class="col-sm-1 btn btn-warning">Modificar</button>
                    </div>
                </form>
                <form action="elemento/eliminarExtra" method="POST">
                    <div class="form-group row">
                        <label  class="col-sm-10 col-form-label"></label>
                        <input hidden class="form-control" name="id_extra" value="{{id_extra}}" required>
                        <input hidden class="form-control" name="id_producto" value="{{id_producto}}" required>
                        <input hidden class="form-control" name="id_proyecto" value="{{id_proyecto}}" required>
                        <button type="submit" class="col-sm-1 btn btn-danger">Eliminar</button>
                    </div>
                </form>
            {{/each}}
        </section>
    </section>
</body>

{{> footer}}